<!DOCTYPE html>
<html ng-app="redditApp">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.3/angular.js'></script>
  <!-- load momentJS (required for angular-moment) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
  <!-- load angular-moment -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-moment/0.10.2/angular-moment.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body ng-cloak>
  <div ng-controller="reddit">
    <nav>
      <li><h3 ng-click="addForm()" type="submit"><span>Reddit Clone</span><i class="fa fa-plus"></i>Submit Post</h3></li>
      <li><label for="search">Search
         <input type="search" id="search" ng-model="search" ng-change="">
      </label></li>
      <li><h3 ng-click="addSearchSelect()" type="subit">Sort By Votes<i class="fa fa-caret-down"></i></h3></li>
        <select name="sort" ng-show="addSearch === true" ng-hide="addSearch === false" ng-init="sort='votes'" ng-model="sort">
          <option class="green" class="option" value="votes">Sort By Votes</option>
          <option class="option" value="date">Sort By Date</option>
          <option class="option" value="name">Sort By Title</option>
        </select>

    </nav>
    <form class="comment-form" ng-show="add === true" ng-hide="add === false">
      <label for="name">Name</label>
      <input type="text" id="name" ng-model="name" placeholder="Enter Name">
      <label for="url">Url</label>
      <input type="text" id="url" ng-model="url" placeholder="Enter url">
      <label for="desc">Desc</label>
      <input type="text" id="desc" ng-model="desc" placeholder="Enter Description">
      <label for="author">Author</label>
      <input type="text" id="author" ng-model="author" placeholder="Enter Author">
      <button class="button" type="submit" ng-click="addPost(post)">Submit</button>
    </form>
    <article>
        <div ng-repeat="post in posts | filter:search | orderBy:sort" class="post">
         <img src="{{post.url}}" alt="" width="200" height="200">
         <p class="author">By: {{post.author}}</p>
         <h3>{{post.name}} |  <span ng-class="{black: post.votes === 0, green: post.votes > 0, red: post.votes < 0}"><i ng-click="addVotes(post)" class="fa fa-arrow-up"></i><i ng-click="delVotes(post)" class="fa fa-arrow-down"></i><span>{{post.votes}}</span></h3>
         <p>{{post.desc}}</p>
           <div><i class="fa fa-calendar"></i>
             {{post.date | amCalendar}} | &#128172; <span ng-model="comment">{{post.commentsArr.length}} comments |
             <ng-pluralize count="comment"
                            when="{'0': 'No comments',
                                '1': '1 comment',
                                'other': '{{post.commentsArr.length}} comments'}">
            </ng-pluralize>
          </span><button class="button2" ng-click="addCommentsForm()" type="submit"><i class="fa fa-pencil"></i>Add Comment</button>
            <form class="comment" ng-show="addComment === true" ng-hide="addComment === false">
              <input type="text" ng-model="comments" placeholder="What's your comment?">comment
              <button ng-click="addComments(post)" type="submit">Submit</button>
            </form>
            <aside>
              <span ng-repeat="comment in commentsArr track by $index"></span>
              <p>{{post.commentArr.comment}}</p>
            </aside>
         </div>
        </div>
    </article>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src='app.js'></script>
</body>
</html>
